{% extends 'shop/basic.html' %}

{% block css %}
body{
overflow-x: hidden;
}
a:hover{
text-decoration: none;
color: black
}

a{
color: black;
}

.move-left{
position: relative;
right: 276px;
}

.card-img-top{
width: 395px;
height: 275px;
margin: auto;
}
.stretched-link::after {
    position: absolute;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    z-index: 1;
    pointer-events: auto;
    content: "";
    background-color: rgba(0,0,0,0);
}
{% endblock %}

{% block body %}
{% load static %}
<div class="row my-5 d-flex justify-content-center align-items-center">
 
<div class="card" style="width: 50rem; margin-right: 115px; background-color: mediumblue;">
<img src="{%static 'shop/bs.jpeg'%}" class="card-img-top" alt="...">
<div class="card-body" style="padding: 0px;">
<a href="/shop/bestsellers" class="stretched-link"></a>
</div>
</div>

</div>
<div class="row my-5 d-flex justify-content-center align-items-center">
      <div class="col-sm-6">
<div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/smartphones1.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Smartphone</h1>
    <a href="/shop/smartphone" class="stretched-link"></a>
  </div>
</div>
   </div>
   <div class="col-sm-6 move-left">
 <div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/laptop.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Laptops</h1>
      <a href="/shop/laptops" class="stretched-link"></a>
  </div>
</div>
    </div>

</div>

<div class="row my-5 d-flex justify-content-center align-items-center">
      <div class="col-sm-6">
<div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/tv.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Televisions</h1>
      <a href="/shop/television" class="stretched-link"></a>
  </div>
</div>
    </div>
   <div class="col-sm-6 move-left">
 <div class="card" style="width: 25rem; margin-left: 250px">
  <img src="{%static 'shop/access.jpg'%}" class="card-img-top" alt="...">
  <div class="card-body">
    <h1 class="card-title" style="text-align: center;">Accessories</h1>
      <a href="/shop/accessories" class="stretched-link"></a>
  </div>
</div>
    </div>

</div>
{% endblock %}


{% block js %}
<script>
if(localStorage.getItem('cart') != undefined){
    updatePopOver()
   }
  function updatePopOver(){
    var popStr = "";
    popStr = popStr + "<h5> Items in your shopping cart </h5><div class='mx-2 my-2'>";
    var i = 1
    popCart = JSON.parse(localStorage.getItem('cart'))
    total = 0
    for (var item in popCart){
        popStr = popStr + "<b>" + i + "</b>. ";
        popStr = popStr + popCart[item][1] + "... Qty: " + popCart[item][0] + '<br>';
        total += popCart[item][0]
        i = i+1;
    }
    popStr = popStr + `</div> <a href='/shop/checkOut'><button class='btn btn-danger' id='checkout'>Check Out</button></a>
                                                   <button class='btn btn-primary' onclick="clearCart()" id='clearCart'>Clear Cart</button>`
    document.getElementById('popcart').setAttribute('data-content', popStr);
    document.getElementById('cart').innerHTML = total;
    $('#popcart').popover('show');
    }

    function clearCart() {
    localStorage.clear();
    cart = {};
    updatePopOver()
        $('#popcart').popover('hide');
}

</script>
{% endblock %}